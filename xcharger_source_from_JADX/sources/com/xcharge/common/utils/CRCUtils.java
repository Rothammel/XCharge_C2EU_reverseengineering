package com.xcharge.common.utils;

import android.support.p000v4.internal.view.SupportMenu;
import android.support.p000v4.view.MotionEventCompat;
import com.xcharge.charger.protocol.anyo.bean.AnyoMessage;
import com.xcharge.charger.protocol.anyo.bean.request.HeartBeatRequest;
import com.xcharge.charger.protocol.xmsz.bean.XMSZMessage;
import org.apache.mina.proxy.handlers.socks.SocksProxyConstants;
import org.eclipse.paho.client.mqttv3.internal.wire.MqttWireMessage;

public class CRCUtils {
    static byte[] crc16_tab_h;
    static byte[] crc16_tab_l;

    static {
        byte[] bArr = new byte[256];
        bArr[1] = -63;
        bArr[2] = -127;
        bArr[3] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[4] = 1;
        bArr[5] = -64;
        bArr[6] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[7] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[8] = 1;
        bArr[9] = -64;
        bArr[10] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[11] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[13] = -63;
        bArr[14] = -127;
        bArr[15] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[16] = 1;
        bArr[17] = -64;
        bArr[18] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[19] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[21] = -63;
        bArr[22] = -127;
        bArr[23] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[25] = -63;
        bArr[26] = -127;
        bArr[27] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[28] = 1;
        bArr[29] = -64;
        bArr[30] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[31] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[32] = 1;
        bArr[33] = -64;
        bArr[34] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[35] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[37] = -63;
        bArr[38] = -127;
        bArr[39] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[41] = -63;
        bArr[42] = -127;
        bArr[43] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[44] = 1;
        bArr[45] = -64;
        bArr[46] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[47] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[49] = -63;
        bArr[50] = -127;
        bArr[51] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[52] = 1;
        bArr[53] = -64;
        bArr[54] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[55] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[56] = 1;
        bArr[57] = -64;
        bArr[58] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[59] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[61] = -63;
        bArr[62] = -127;
        bArr[63] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[64] = 1;
        bArr[65] = -64;
        bArr[66] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[67] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[69] = -63;
        bArr[70] = -127;
        bArr[71] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[73] = -63;
        bArr[74] = -127;
        bArr[75] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[76] = 1;
        bArr[77] = -64;
        bArr[78] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[79] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[81] = -63;
        bArr[82] = -127;
        bArr[83] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[84] = 1;
        bArr[85] = -64;
        bArr[86] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[87] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[88] = 1;
        bArr[89] = -64;
        bArr[90] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[91] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[93] = -63;
        bArr[94] = -127;
        bArr[95] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[97] = -63;
        bArr[98] = -127;
        bArr[99] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[100] = 1;
        bArr[101] = -64;
        bArr[102] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[103] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[104] = 1;
        bArr[105] = -64;
        bArr[106] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[107] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[109] = -63;
        bArr[110] = -127;
        bArr[111] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[112] = 1;
        bArr[113] = -64;
        bArr[114] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[115] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[117] = -63;
        bArr[118] = -127;
        bArr[119] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[121] = -63;
        bArr[122] = -127;
        bArr[123] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[124] = 1;
        bArr[125] = -64;
        bArr[126] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[127] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[128] = 1;
        bArr[129] = -64;
        bArr[130] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[131] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[133] = -63;
        bArr[134] = -127;
        bArr[135] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[137] = -63;
        bArr[138] = -127;
        bArr[139] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[140] = 1;
        bArr[141] = -64;
        bArr[142] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[143] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[145] = -63;
        bArr[146] = -127;
        bArr[147] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[148] = 1;
        bArr[149] = -64;
        bArr[150] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[151] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[152] = 1;
        bArr[153] = -64;
        bArr[154] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[155] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[157] = -63;
        bArr[158] = -127;
        bArr[159] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[161] = -63;
        bArr[162] = -127;
        bArr[163] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[164] = 1;
        bArr[165] = -64;
        bArr[166] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[167] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[168] = 1;
        bArr[169] = -64;
        bArr[170] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[171] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[173] = -63;
        bArr[174] = -127;
        bArr[175] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[176] = 1;
        bArr[177] = -64;
        bArr[178] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[179] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[181] = -63;
        bArr[182] = -127;
        bArr[183] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[185] = -63;
        bArr[186] = -127;
        bArr[187] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[188] = 1;
        bArr[189] = -64;
        bArr[190] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[191] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[193] = -63;
        bArr[194] = -127;
        bArr[195] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[196] = 1;
        bArr[197] = -64;
        bArr[198] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[199] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[200] = 1;
        bArr[201] = -64;
        bArr[202] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[203] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[205] = -63;
        bArr[206] = -127;
        bArr[207] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[208] = 1;
        bArr[209] = -64;
        bArr[210] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[211] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[213] = -63;
        bArr[214] = -127;
        bArr[215] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[217] = -63;
        bArr[218] = -127;
        bArr[219] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[220] = 1;
        bArr[221] = -64;
        bArr[222] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[223] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[224] = 1;
        bArr[225] = -64;
        bArr[226] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[227] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[229] = -63;
        bArr[230] = -127;
        bArr[231] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[233] = -63;
        bArr[234] = -127;
        bArr[235] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[236] = 1;
        bArr[237] = -64;
        bArr[238] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[239] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[241] = -63;
        bArr[242] = -127;
        bArr[243] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        bArr[244] = 1;
        bArr[245] = -64;
        bArr[246] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[247] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[248] = 1;
        bArr[249] = -64;
        bArr[250] = AnyoMessage.CMD_RESET_CHARGE;
        bArr[251] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr[253] = -63;
        bArr[254] = -127;
        bArr[255] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        crc16_tab_h = bArr;
        byte[] bArr2 = new byte[256];
        bArr2[1] = -64;
        bArr2[2] = -63;
        bArr2[3] = 1;
        bArr2[4] = -61;
        bArr2[5] = 3;
        bArr2[6] = 2;
        bArr2[7] = -62;
        bArr2[8] = -58;
        bArr2[9] = 6;
        bArr2[10] = 7;
        bArr2[11] = -57;
        bArr2[12] = 5;
        bArr2[13] = -59;
        bArr2[14] = -60;
        bArr2[15] = 4;
        bArr2[16] = -52;
        bArr2[17] = 12;
        bArr2[18] = MqttWireMessage.MESSAGE_TYPE_PINGRESP;
        bArr2[19] = -51;
        bArr2[20] = HeartBeatRequest.PORT_STATUS_FAULT;
        bArr2[21] = -49;
        bArr2[22] = -50;
        bArr2[23] = MqttWireMessage.MESSAGE_TYPE_DISCONNECT;
        bArr2[24] = 10;
        bArr2[25] = -54;
        bArr2[26] = -53;
        bArr2[27] = MqttWireMessage.MESSAGE_TYPE_UNSUBACK;
        bArr2[28] = -55;
        bArr2[29] = 9;
        bArr2[30] = 8;
        bArr2[31] = -56;
        bArr2[32] = -40;
        bArr2[33] = AnyoMessage.CMD_REPORT_CHARGE_STOPPED;
        bArr2[34] = AnyoMessage.CMD_REPORT_EVENT;
        bArr2[35] = -39;
        bArr2[36] = 27;
        bArr2[37] = -37;
        bArr2[38] = -38;
        bArr2[39] = 26;
        bArr2[40] = 30;
        bArr2[41] = -34;
        bArr2[42] = -33;
        bArr2[43] = 31;
        bArr2[44] = -35;
        bArr2[45] = 29;
        bArr2[46] = 28;
        bArr2[47] = -36;
        bArr2[48] = 20;
        bArr2[49] = -44;
        bArr2[50] = -43;
        bArr2[51] = 21;
        bArr2[52] = -41;
        bArr2[53] = 23;
        bArr2[54] = 22;
        bArr2[55] = -42;
        bArr2[56] = -46;
        bArr2[57] = 18;
        bArr2[58] = 19;
        bArr2[59] = -45;
        bArr2[60] = 17;
        bArr2[61] = -47;
        bArr2[62] = -48;
        bArr2[63] = 16;
        bArr2[64] = -16;
        bArr2[65] = AnyoMessage.CMD_SYNC_TIME;
        bArr2[66] = AnyoMessage.CMD_RESET_SYSTEM;
        bArr2[67] = -15;
        bArr2[68] = 51;
        bArr2[69] = -13;
        bArr2[70] = -14;
        bArr2[71] = 50;
        bArr2[72] = AnyoMessage.CMD_QUERY_SYS_INFO;
        bArr2[73] = -10;
        bArr2[74] = -9;
        bArr2[75] = AnyoMessage.CMD_UPDATE_SYS_INFO;
        bArr2[76] = -11;
        bArr2[77] = AnyoMessage.CMD_BIND_USER;
        bArr2[78] = 52;
        bArr2[79] = -12;
        bArr2[80] = AnyoMessage.CMD_START_CHARGE;
        bArr2[81] = -4;
        bArr2[82] = -3;
        bArr2[83] = AnyoMessage.CMD_STOP_CHARGE;
        bArr2[84] = -1;
        bArr2[85] = 63;
        bArr2[86] = AnyoMessage.CMD_START_UPGRADE;
        bArr2[87] = -2;
        bArr2[88] = -6;
        bArr2[89] = AnyoMessage.CMD_SET_TIMING_CHARGE;
        bArr2[90] = AnyoMessage.CMD_CANCEL_TIMING_CHARGE;
        bArr2[91] = -5;
        bArr2[92] = AnyoMessage.CMD_UPDATE_FEE_POLICY;
        bArr2[93] = -7;
        bArr2[94] = -8;
        bArr2[95] = AnyoMessage.CMD_QUERY_FEE_POLICY;
        bArr2[96] = 40;
        bArr2[97] = -24;
        bArr2[98] = -23;
        bArr2[99] = 41;
        bArr2[100] = -21;
        bArr2[101] = 43;
        bArr2[102] = 42;
        bArr2[103] = -22;
        bArr2[104] = -18;
        bArr2[105] = 46;
        bArr2[106] = 47;
        bArr2[107] = -17;
        bArr2[108] = 45;
        bArr2[109] = -19;
        bArr2[110] = -20;
        bArr2[111] = 44;
        bArr2[112] = -28;
        bArr2[113] = 36;
        bArr2[114] = 37;
        bArr2[115] = -27;
        bArr2[116] = 39;
        bArr2[117] = -25;
        bArr2[118] = -26;
        bArr2[119] = 38;
        bArr2[120] = AnyoMessage.CMD_REPORT_NETWORK_INFO;
        bArr2[121] = -30;
        bArr2[122] = -29;
        bArr2[123] = 35;
        bArr2[124] = -31;
        bArr2[125] = AnyoMessage.CMD_REPORT_UPGRADE_DOWNLOAD_COMPLETE;
        bArr2[126] = 32;
        bArr2[127] = -32;
        bArr2[128] = -96;
        bArr2[129] = 96;
        bArr2[130] = 97;
        bArr2[131] = -95;
        bArr2[132] = 99;
        bArr2[133] = -93;
        bArr2[134] = -94;
        bArr2[135] = 98;
        bArr2[136] = 102;
        bArr2[137] = -90;
        bArr2[138] = -89;
        bArr2[139] = 103;
        bArr2[140] = -91;
        bArr2[141] = 101;
        bArr2[142] = 100;
        bArr2[143] = -92;
        bArr2[144] = 108;
        bArr2[145] = -84;
        bArr2[146] = -83;
        bArr2[147] = 109;
        bArr2[148] = -81;
        bArr2[149] = 111;
        bArr2[150] = 110;
        bArr2[151] = -82;
        bArr2[152] = AnyoMessage.START_CODE_RESPONSE;
        bArr2[153] = 106;
        bArr2[154] = 107;
        bArr2[155] = -85;
        bArr2[156] = 105;
        bArr2[157] = -87;
        bArr2[158] = -88;
        bArr2[159] = AnyoMessage.START_CODE_REQUEST;
        bArr2[160] = 120;
        bArr2[161] = -72;
        bArr2[162] = -71;
        bArr2[163] = 121;
        bArr2[164] = -69;
        bArr2[165] = 123;
        bArr2[166] = 122;
        bArr2[167] = -70;
        bArr2[168] = -66;
        bArr2[169] = 126;
        bArr2[170] = Byte.MAX_VALUE;
        bArr2[171] = -65;
        bArr2[172] = 125;
        bArr2[173] = -67;
        bArr2[174] = -68;
        bArr2[175] = 124;
        bArr2[176] = -76;
        bArr2[177] = 116;
        bArr2[178] = 117;
        bArr2[179] = -75;
        bArr2[180] = 119;
        bArr2[181] = -73;
        bArr2[182] = -74;
        bArr2[183] = 118;
        bArr2[184] = 114;
        bArr2[185] = -78;
        bArr2[186] = -77;
        bArr2[187] = 115;
        bArr2[188] = -79;
        bArr2[189] = 113;
        bArr2[190] = 112;
        bArr2[191] = -80;
        bArr2[192] = AnyoMessage.STATUS_CODE_INTERNAL_ERROR;
        bArr2[193] = -112;
        bArr2[194] = XMSZMessage.BootNotificationResponse;
        bArr2[195] = 81;
        bArr2[196] = XMSZMessage.StartTransactionResponse;
        bArr2[197] = AnyoMessage.CMD_CANCEL_RESERVE_PORT;
        bArr2[198] = AnyoMessage.CMD_RESERVE_PORT;
        bArr2[199] = XMSZMessage.AuthorizeIDResponse;
        bArr2[200] = XMSZMessage.StatusNotificationResponse;
        bArr2[201] = 86;
        bArr2[202] = 87;
        bArr2[203] = XMSZMessage.FirmwareUpdateInformResponse;
        bArr2[204] = 85;
        bArr2[205] = XMSZMessage.HeartBeatResponse;
        bArr2[206] = XMSZMessage.StopTransactionResponse;
        bArr2[207] = 84;
        bArr2[208] = -100;
        bArr2[209] = SocksProxyConstants.V4_REPLY_REQUEST_FAILED_NO_IDENTD;
        bArr2[210] = SocksProxyConstants.V4_REPLY_REQUEST_FAILED_ID_NOT_CONFIRMED;
        bArr2[211] = -99;
        bArr2[212] = 95;
        bArr2[213] = -97;
        bArr2[214] = -98;
        bArr2[215] = 94;
        bArr2[216] = SocksProxyConstants.V4_REPLY_REQUEST_GRANTED;
        bArr2[217] = -102;
        bArr2[218] = -101;
        bArr2[219] = SocksProxyConstants.V4_REPLY_REQUEST_REJECTED_OR_FAILED;
        bArr2[220] = -103;
        bArr2[221] = 89;
        bArr2[222] = 88;
        bArr2[223] = -104;
        bArr2[224] = XMSZMessage.ResetResponse;
        bArr2[225] = 72;
        bArr2[226] = 73;
        bArr2[227] = XMSZMessage.UpdateFirmwareResponse;
        bArr2[228] = 75;
        bArr2[229] = -117;
        bArr2[230] = XMSZMessage.ChangeAvailabilityResponse;
        bArr2[231] = 74;
        bArr2[232] = 78;
        bArr2[233] = -114;
        bArr2[234] = -113;
        bArr2[235] = 79;
        bArr2[236] = -115;
        bArr2[237] = 77;
        bArr2[238] = 76;
        bArr2[239] = XMSZMessage.GetChargeInfoResponse;
        bArr2[240] = 68;
        bArr2[241] = -124;
        bArr2[242] = -123;
        bArr2[243] = 69;
        bArr2[244] = -121;
        bArr2[245] = 71;
        bArr2[246] = 70;
        bArr2[247] = -122;
        bArr2[248] = XMSZMessage.RemoteStartChargingResponse;
        bArr2[249] = AnyoMessage.CMD_QUERY_DEVICE_FAULT;
        bArr2[250] = AnyoMessage.CMD_QUERY_BATTERY_CHARGE_INFO;
        bArr2[251] = XMSZMessage.RemoteStopChargingResponse;
        bArr2[252] = AnyoMessage.CMD_UPDATE_CHARGE_SETTING;
        bArr2[253] = -127;
        bArr2[254] = AnyoMessage.CMD_RESET_CHARGE;
        bArr2[255] = AnyoMessage.CMD_QUERY_CHARGE_SETTING;
        crc16_tab_l = bArr2;
    }

    public static int calcCrc16(byte[] data) {
        return calcCrc16(data, 0, data.length);
    }

    public static int calcCrc16(byte[] data, int offset, int len) {
        return calcCrc16(data, offset, len, SupportMenu.USER_MASK);
    }

    public static int calcCrc16(byte[] data, int offset, int len, int preval) {
        int ucCRCHi = (65280 & preval) >> 8;
        int ucCRCLo = preval & MotionEventCompat.ACTION_MASK;
        int i = 0;
        while (i < len) {
            int iIndex = (data[offset + i] ^ ucCRCLo) & MotionEventCompat.ACTION_MASK;
            ucCRCLo = ucCRCHi ^ crc16_tab_h[iIndex];
            i++;
            ucCRCHi = crc16_tab_l[iIndex];
        }
        return ((ucCRCHi & MotionEventCompat.ACTION_MASK) << 8) | (ucCRCLo & MotionEventCompat.ACTION_MASK & SupportMenu.USER_MASK);
    }

    public static void main(String[] args) {
        byte[] p = new byte[24];
        p[0] = 71;
        p[17] = 2;
        p[18] = 68;
        p[19] = 31;
        p[20] = 32;
        p[22] = 1;
        p[23] = 2;
        System.out.println(calcCrc16(p));
    }
}
